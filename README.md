# Codeforces Tool

[![Github release](https://img.shields.io/github/release/xalanq/cf-tool.svg)](https://github.com/xalanq/cf-tool/releases)
[![platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux-blue.svg)](https://github.com/xalanq/cf-tool/releases)
[![Build Status](https://travis-ci.org/xalanq/cf-tool.svg?branch=master)](https://travis-ci.org/xalanq/cf-tool)
[![Go Report Card](https://goreportcard.com/badge/github.com/xalanq/cf-tool)](https://goreportcard.com/report/github.com/xalanq/cf-tool)
[![Go Version](https://img.shields.io/badge/go-%3E%3D1.12-green.svg)](https://github.com/golang)
[![license](https://img.shields.io/badge/license-MIT-%23373737.svg)](https://raw.githubusercontent.com/xalanq/cf-tool/master/LICENSE)

A fast, small, cross-platform and powerful command-line tool for [Codeforces](https://codeforces.com).

[Installation](#installation) | [Usage](#usage) | [FAQ](#faq) | [中文](./README_zh_CN.md)

## Features

- **Contest Support** - Contests, Gym, Groups and acmsguru
- **All Languages** - Every programming language on Codeforces
- **Full Workflow** - Submit code, watch status, fetch samples, compile & test locally
- **Code Management** - Clone submissions, generate from templates, pull AC solutions
- **Browser Integration** - Open problems, standings, and submissions in your browser
- **Networking** - Proxy and mirror host support
- **Colorful CLI** - Beautiful terminal output

Pull requests are always welcome!

![](./assets/readme_1.gif)

## Installation

Download the pre-compiled binary from [Releases](https://github.com/xalanq/cf-tool/releases).

Or build from source **(go >= 1.12)**:

```bash
git clone https://github.com/xalanq/cf-tool
cd cf-tool
go build -ldflags "-s -w" -o cf .
```

## Login

Run `cf config` and select option `0` (login).

### Option 1: Chrome Extension (Recommended)

Install **[CF-Tool Login Helper](https://chromewebstore.google.com/detail/cf-tool-login-helper/lphndghbifbjefmhoejdpconiehgnkfp)** - login is automatic once installed!

### Option 2: Manual

1. Log in to Codeforces in your browser
2. Open DevTools Console (`Cmd+Option+J` on Mac, `F12` on Windows/Linux)
3. Paste the code snippet (auto-copied to clipboard) and press Enter

> Your credentials never leave your computer - cookies are sent only to localhost.

## Usage

### Quick Start: Racing a Contest

```bash
cf race 1136                    # Start contest 1136
cd ./cf/contest/1136/a          # Enter problem A directory
cf gen                          # Generate code from template
vim a.cpp                       # Write your solution
cf test                         # Compile and test samples
cf submit                       # Submit your code
cf list                         # View problem stats
cf stand                        # Open standings in browser
```

### Commands

| Command | Description |
|---------|-------------|
| `cf config` | Configure handle, password, and templates |
| `cf submit [-f <file>] [<specifier>...]` | Submit solution |
| `cf list [<specifier>...]` | List problem stats |
| `cf parse [<specifier>...]` | Fetch problem samples |
| `cf gen [<alias>]` | Generate code from template |
| `cf test [<file>]` | Compile and test locally |
| `cf watch [all] [<specifier>...]` | Watch submission status |
| `cf open [<specifier>...]` | Open problem in browser |
| `cf stand [<specifier>...]` | Open standings in browser |
| `cf sid [<specifier>...]` | Open submission page |
| `cf race [<specifier>...]` | Start racing a contest |
| `cf pull [ac] [<specifier>...]` | Pull submitted code |
| `cf clone [ac] [<handle>]` | Clone someone's submissions |
| `cf upgrade` | Upgrade cf-tool |

### Specifiers

Specifiers let you identify contests/problems flexibly:
- URLs: `https://codeforces.com/contest/100`, `https://codeforces.com/contest/180/problem/A`
- IDs: `1111A`, `1111`, `a`
- Groups: `https://codeforces.com/group/Cw4JRyRGXR/contest/269760`, `Cw4JRyRGXR`

### Examples

```bash
# Submitting
cf submit                              # Auto-detect file
cf submit -f a.cpp 100 a               # Specific file and problem
cf submit gym 100001 a                 # Gym submission

# Parsing samples
cf parse 100                           # All problems from contest 100
cf parse gym 100001a                   # Specific gym problem

# Pulling code
cf pull ac 100 a                       # Pull accepted code
cf clone xalanq                        # Clone all of xalanq's code
```

## Templates

### Template Placeholders

Use these placeholders in your template code - they'll be replaced when running `cf gen`:

| Placeholder | Value |
|------------|-------|
| `$%U%$` | Handle (e.g. xalanq) |
| `$%Y%$` | Year (e.g. 2019) |
| `$%M%$` | Month (e.g. 04) |
| `$%D%$` | Day (e.g. 09) |
| `$%h%$` | Hour (e.g. 08) |
| `$%m%$` | Minute (e.g. 05) |
| `$%s%$` | Second (e.g. 00) |

### Example Template

```cpp
/* Generated by Codeforces Tool
 * https://github.com/xalanq/cf-tool
 * Author: $%U%$
 * Time: $%Y%$-$%M%$-$%D%$ $%h%$:$%m%$:$%s%$
 */

#include <bits/stdc++.h>
using namespace std;

typedef long long ll;

int main() {
    ios::sync_with_stdio(false);
    cin.tie(0);
    
    return 0;
}
```

### Script Placeholders

These placeholders work in template scripts (before_script, script, after_script):

| Placeholder | Value |
|------------|-------|
| `$%path%$` | Path to source file (e.g. `/home/xalanq/`) |
| `$%full%$` | Full filename (e.g. `a.cpp`) |
| `$%file%$` | Filename without extension (e.g. `a`) |
| `$%rand%$` | Random 8-character string (a-z, 0-9) |

## Data Files

cf-tool stores data in your home directory:

| File | Contents |
|------|----------|
| `~/.cf/config` | Configuration (templates, etc.) |
| `~/.cf/session` | Session data (cookies, credentials) |

## FAQ

### I double click the program but it doesn't work

cf-tool is a command-line tool. Run it in your terminal.

### I cannot use the `cf` command

Add the `cf` binary to a directory in your PATH (e.g. `/usr/bin/` on Linux), or add its directory to your PATH environment variable.

### How to add a new testcase

Create `inK.txt` and `ansK.txt` files where K is any string of digits (0-9).

### Enable tab completion

Use [Infinidat/infi.docopt_completion](https://github.com/Infinidat/infi.docopt_completion). Run `docopt-completion cf` after each update that adds new commands.
